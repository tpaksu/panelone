!function(a,b,c,d){function e(b,c){this.openPanels=[],this.options=a.extend({},f,c),this.options.trigger=a(b),this._defaults=f,this.init()}var f={location:"left",container:"body",theme:"light",panelWidths:{desktop:"300px","small-desktop":"300px",tablet:"300px","phone-portrait":"80vw","phone-landscape":"80vh"}};e.prototype={init:function(){this.appendButtonHolder(),this.appendDeviceIndicator(),this.bindEvents()},appendButtonHolder:function(){this.buttons=a("<div class='panelone-buttons'></div>").appendTo(this.options.container),this.buttons.wrapAll("<div class='panelone-buttons-wrapper panelone-buttons-"+this.options.theme+" panelone-buttons-"+this.options.location+"'></div>")},appendDeviceIndicator:function(){0===a(".panelone-state-indicator").length&&a("body").append("<div class='panelone-state-indicator'></div>")},getDeviceState:function(){var c=a(".panelone-state-indicator").get(0),d=parseInt(b.getComputedStyle(c).getPropertyValue("z-index"),10),e={2:"small-desktop",3:"tablet",4:"phone-portrait",5:"phone-landscape"};return console.log(e[d]||"desktop"),e[d]||"desktop"},bindEvents:function(){var c=this,d=null;this.options.trigger.off("click.panelone").on("click.panelone",function(){d=c.createPanel(),c.openPanels.push(d),d.appendTo(c.options.container),d.trigger("panelone:show"),c.fixPanelClasses()}),a(b).on("resize.panelone",function(){a(".panelone-panel").width(c.options.panelWidths[c.getDeviceState()])})},fixPanelClasses:function(){this.buttons.empty();for(var a=this.openPanels.length-1;a>=0;a--)if(this.openPanels.hasOwnProperty(a)){var b=this.openPanels[a];this.buttons.prepend("<div class='panelone-button'>"+a+"</div>"),b.removeClass(function(a,b){return(b.match(/panelone-back-\d+/g)||[]).join(" ")}).addClass("panelone-back-"+(this.openPanels.length-a-1))}},createPanel:function(){var b=this,c=a("<div class='panelone-panel panelone-panel-"+this.options.theme+" panelone-panel-"+this.options.location+"' style='width: "+this.options.panelWidths[this.getDeviceState()]+";'>Panel #"+this.openPanels.length+"</div>");return this.buttons.append("<div class='panelone-button'>"+this.openPanels.length+"</div>"),a("<div class='panelone-close'>Close</div>").prependTo(c).on("click",function(){c.trigger("panelone:hide")}),c.on("panelone:show",function(){var b=a(this);setTimeout(function(){b.addClass("panelone-show")},0)}).on("panelone:hide",function(){var c=a(this);c.removeClass("panelone-show").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){b.openPanels.splice(b.openPanels.indexOf(c),1),c.remove(),b.fixPanelClasses()})}).appendTo(this.options.container),c}},a.fn.panelone=function(b){return this.each(function(){a.data(this,"panelone")||a.data(this,"panelone",new e(this,b))})}}(jQuery,window,document);
//# sourceMappingURL=panelone.min.map